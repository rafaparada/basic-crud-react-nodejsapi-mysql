{"version":3,"sources":["components/SuccessAlert.js","components/FrutasForm/helpers/getFrutas.js","hooks/useFrutasForm.js","components/FrutasForm/FilaFrutas.js","components/FrutasForm/TablaFrutas.js","components/FrutasForm/Loading.js","components/FrutasForm/FrutasForm.js","index.js"],"names":["SuccessAlert","mensajeReq","className","style","fontSize","getFrutas","a","fetch","request","json","frutas","console","log","useFrutasForm","urlBaseApi","useState","nombre","color","precio","setFrutas","successRequest","setSuccessRequest","fetchFrutas","setFetchFrutas","setMensajeReq","editOn","setEditOn","idToUpdate","setIdToUpdate","isLoading","setIsLoading","getFruitss","setGetFruits","myInputRef","useRef","showAlert","setTimeout","useEffect","then","fruits","current","focus","e","newData","target","id","value","toUpperCase","preventDefault","options","method","headers","body","JSON","stringify","res","data","mensaje","Date","now","find","fruit","frutasToUp","FilaFrutas","deleteFruit","editFruit","onClick","TablaFrutas","map","Loading","role","FrutasForm","handleInput","submitForm","submitUpdate","onSubmit","type","ref","onChange","reactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b422d84.chunk.js","sourcesContent":["import '../styles/estilos.css';\r\nconst SuccessAlert = ({mensajeReq}) => {\r\n    return (\r\n        <div className=\"alert alert-success alert-dismissible fixed-top center-block text-center myAlert\">\r\n            <i className=\"fas fa-check-circle\"></i> <span style={{fontSize:'18px'}}>{mensajeReq}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuccessAlert\r\n","const getFrutas = async () =>{\r\n    try{\r\n        const request     = await fetch('https://rafpapp.herokuapp.com/frutas');\r\n        const {frutas}    = await request.json();\r\n        return frutas;\r\n\r\n    }catch(error){\r\n        console.log(error);\r\n    };\r\n}\r\n\r\nexport default getFrutas;","import getFrutas from \"../components/FrutasForm/helpers/getFrutas\";\r\nimport { useState,useEffect,useRef} from \"react\"\r\n    const useFrutasForm = () => {\r\n    const urlBaseApi = 'https://rafpapp.herokuapp.com';\r\n    const [frutas,setFrutas]=useState({nombre:'',color:'',precio:''});\r\n    const [successRequest,setSuccessRequest]=useState(false);\r\n    const [fetchFrutas,setFetchFrutas] = useState([]);\r\n    const [mensajeReq,setMensajeReq] = useState('');\r\n    const [editOn,setEditOn] = useState(false);\r\n    const [idToUpdate,setIdToUpdate]=useState(0);\r\n    const [isLoading,setIsLoading] = useState(false);\r\n    const [getFruitss,setGetFruits] = useState(0);\r\n    const myInputRef = useRef();\r\n    \r\n    const showAlert = () =>{\r\n        setSuccessRequest(true);\r\n        setTimeout(() => {setSuccessRequest(false)}, 1500);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        setIsLoading(true);\r\n        getFrutas().then(fruits=>{\r\n            setFetchFrutas(fruits)\r\n        });\r\n        setIsLoading(false);\r\n    },[getFruitss]);\r\n\r\n    useEffect(() => {\r\n        if(!editOn){\r\n            setFrutas({nombre:'',color:'',precio:''});\r\n        }\r\n    }, [editOn])\r\n    \r\n    useEffect(()=>{ myInputRef.current.focus();},[]);\r\n\r\n    const handleInput = (e) =>{\r\n        const newData = {...frutas};\r\n        newData[e.target.id] = e.target.value.toUpperCase();\r\n        setFrutas(newData);\r\n    } \r\n\r\n    const submitForm =  async(e) =>{\r\n        e.preventDefault();\r\n        const options = {\r\n            method:'POST',\r\n            headers:{'Content-Type': 'application/json'},\r\n            body:JSON.stringify(frutas)\r\n        };\r\n        setIsLoading(true);\r\n        const res     = await fetch(urlBaseApi+'/crear',options);\r\n        const data    = await res.json();\r\n        showAlert();\r\n        setMensajeReq(data.mensaje);\r\n        setFrutas({nombre:'',color:'',precio:''});\r\n        setIsLoading(false);\r\n        myInputRef.current.focus();\r\n        setGetFruits(Date.now());\r\n    }\r\n\r\n    const deleteFruit = async(id) =>{\r\n        try{\r\n            const options = {method:'DELETE'};\r\n            setIsLoading(true);\r\n            const request = await fetch(urlBaseApi+'/delete/'+id,options);\r\n            const res     = await request.json();\r\n            showAlert();\r\n            setMensajeReq(res.mensaje);\r\n            setIsLoading(false);\r\n            setGetFruits(Date.now());\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n    \r\n\r\n    const editFruit = id =>{\r\n        const {nombre,color,precio} = fetchFrutas.find(fruit=>(fruit.id === id));\r\n        setEditOn(true);\r\n        setIdToUpdate(id);\r\n        setFrutas({nombre:nombre,color:color,precio:precio});\r\n    }\r\n\r\n    const submitUpdate = async(e)=>{\r\n        e.preventDefault();\r\n        const frutasToUp = {...frutas,id:idToUpdate};\r\n        const options    = {method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(frutasToUp)};\r\n        setIsLoading(true);\r\n        const request    = await fetch(urlBaseApi+'/update',options);\r\n        const res        = await request.json();\r\n        setMensajeReq(res.mensaje);\r\n        setEditOn(false);\r\n        setIdToUpdate(0);\r\n        showAlert();\r\n        setFrutas({nombre:'',color:'',precio:''});\r\n        setIsLoading(false);\r\n        myInputRef.current.focus();\r\n        setGetFruits(Date.now());\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return [frutas,handleInput,submitForm,successRequest,fetchFrutas,deleteFruit,mensajeReq,editFruit,editOn,submitUpdate,setEditOn,isLoading,myInputRef]\r\n    //Estaba enviando setFrutas y no lo utilizo en el componente, eso causaba un error que no podia encontrar\r\n    //No enviar cosas que no se van utilizar\r\n}\r\n\r\nexport default useFrutasForm\r\n","const FilaFrutas = ({fruit,deleteFruit,editFruit}) =>{\r\n    const {id,nombre,color,precio} = fruit;\r\n    return(\r\n        <tr><td>{nombre}</td><td>{color}</td><td>{precio}</td><td><button onClick={()=>deleteFruit(id)} className=\"btn btn-danger btn-sm\"><i className=\"fas fa-trash\"></i></button><button onClick={()=>editFruit(id)} className=\"btn btn-danger btn-sm ms-1\"><i className=\"fas fa-edit\"></i></button></td></tr>\r\n    );\r\n}\r\n\r\nexport default FilaFrutas;\r\n//16.10","import FilaFrutas from \"./FilaFrutas\"\r\nconst TablaFrutas = ({fetchFrutas,deleteFruit,editFruit}) =>{\r\n\r\n      return(\r\n            <table className=\"table table-dark table-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>FRUTA</th>\r\n                        <th>COLOR</th>\r\n                        <th>PRECIO</th>\r\n                        <th>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        fetchFrutas.map(fruit=>(\r\n                            <FilaFrutas key={fruit.id} fruit={fruit} deleteFruit={deleteFruit} editFruit={editFruit} />\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n      );\r\n}\r\nexport default TablaFrutas;","const Loading = () =>{\r\n    return(\r\n        <div className=\"d-flex text-center align-items-center myLoading\">\r\n            <div className=\"spinner-border text-primary tamano\" role=\"status\">\r\n                <span className=\"visually-hidden\"></span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loading;","import SuccessAlert from \"../SuccessAlert\";\r\nimport useFrutasForm from \"../../hooks/useFrutasForm\"\r\nimport TablaFrutas from \"./TablaFrutas\";\r\nimport Loading from './Loading';\r\nconst FrutasForm = () => {\r\n    const [frutas,handleInput,submitForm,successRequest,fetchFrutas,deleteFruit,mensajeReq,editFruit,editOn,submitUpdate,setEditOn,isLoading,myInputRef] = useFrutasForm();\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            {isLoading && <Loading />}\r\n            {successRequest ? <SuccessAlert mensajeReq={mensajeReq} />:''}\r\n            <div className=\"row\">\r\n                <div className=\"col-3\"></div>\r\n                <div className=\"col-6 mt-3\">\r\n                    <h5>{editOn ? 'MODIFICAR FRUTA':' REGISTRAR FRUTA'}</h5>\r\n                    <hr />\r\n                    <form onSubmit={editOn ? submitUpdate : submitForm}>\r\n                    Nombre fruta:\r\n                    <input type=\"text\" id=\"nombre\" ref={myInputRef} value={frutas.nombre} onChange={handleInput} className=\"form-control\" />\r\n                    Color:\r\n                    <input type=\"text\" id=\"color\" value={frutas.color} onChange={handleInput} className=\"form-control\" />\r\n                    Precio:\r\n                    <input type=\"text\" id=\"precio\" value={frutas.precio} onChange={handleInput} className=\"form-control\" />\r\n                    <button className=\"btn btn-primary mt-3\">{editOn ? \"Guardar cambios\":\"Registrar\"}</button>\r\n                    </form>\r\n                    {editOn && <button className=\"btn btn-danger mt-2\" onClick={()=>setEditOn(false)}>Cancelar</button>}\r\n                    <hr />\r\n                    <TablaFrutas fetchFrutas={fetchFrutas} deleteFruit={deleteFruit} editFruit={editFruit} />\r\n                   \r\n                </div>\r\n                <div className=\"col-3\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FrutasForm\r\n","import reactDom from 'react-dom';\r\nimport FrutasForm from './components/FrutasForm/FrutasForm';\r\nreactDom.render(\r\n    <FrutasForm />,\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}